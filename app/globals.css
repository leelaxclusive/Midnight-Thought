@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

@layer base {
	:root {
		--background: 0 0% 100%;
		--foreground: 0 0% 3.9%;
		--card: 0 0% 100%;
		--card-foreground: 0 0% 3.9%;
		--popover: 0 0% 100%;
		--popover-foreground: 0 0% 3.9%;
		--primary: 350 91% 35%;
		--primary-foreground: 0 0% 98%;
		--secondary: 0 0% 96.1%;
		--secondary-foreground: 0 0% 9%;
		--muted: 0 0% 96.1%;
		--muted-foreground: 0 0% 45.1%;
		--accent: 0 0% 96.1%;
		--accent-foreground: 0 0% 9%;
		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 0 0% 98%;
		--border: 0 0% 89.8%;
		--input: 0 0% 89.8%;
		--ring: 350 91% 35%;
		--chart-1: 12 76% 61%;
		--chart-2: 173 58% 39%;
		--chart-3: 197 37% 24%;
		--chart-4: 43 74% 66%;
		--chart-5: 27 87% 67%;
		--radius: 0.5rem;
	}

	.dark {
		--background: 0 0% 3.9%;
		--foreground: 0 0% 98%;
		--card: 0 0% 3.9%;
		--card-foreground: 0 0% 98%;
		--popover: 0 0% 3.9%;
		--popover-foreground: 0 0% 98%;
		--primary: 350 91% 35%;
		--primary-foreground: 0 0% 98%;
		--secondary: 0 0% 14.9%;
		--secondary-foreground: 0 0% 98%;
		--muted: 0 0% 14.9%;
		--muted-foreground: 0 0% 63.9%;
		--accent: 0 0% 14.9%;
		--accent-foreground: 0 0% 98%;
		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 0 0% 98%;
		--border: 0 0% 14.9%;
		--input: 0 0% 14.9%;
		--ring: 350 91% 35%;
		--chart-1: 220 70% 50%;
		--chart-2: 160 60% 45%;
		--chart-3: 30 80% 55%;
		--chart-4: 280 65% 60%;
		--chart-5: 340 75% 55%;
	}
}

@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
	}
}

/* Reading Mode Styles */
.reading-mode-focus {
	/* Focus mode: Hide distractions and improve readability */
}

.reading-mode-focus .reading-content {
	max-width: 700px;
	margin: 0 auto;
	line-height: 1.8;
	font-size: 1.1rem;
}

.reading-mode-focus .reading-sidebar,
.reading-mode-focus .reading-navigation,
.reading-mode-focus .reading-comments {
	opacity: 0.3;
}

.reading-mode-focus .reading-sidebar:hover,
.reading-mode-focus .reading-navigation:hover,
.reading-mode-focus .reading-comments:hover {
	opacity: 1;
}

.reading-mode-sepia {
	/* Sepia mode: Warm colors for reduced eye strain */
	--background: 40 15% 94%;
	--foreground: 40 5% 15%;
	--card: 40 20% 97%;
	--card-foreground: 40 5% 15%;
	--muted: 40 10% 88%;
	--muted-foreground: 40 5% 40%;
	--border: 40 8% 85%;
}

.reading-mode-sepia.dark {
	--background: 40 8% 12%;
	--foreground: 40 15% 88%;
	--card: 40 8% 15%;
	--card-foreground: 40 15% 88%;
	--muted: 40 5% 20%;
	--muted-foreground: 40 10% 65%;
	--border: 40 5% 25%;
}

/* Story Reading Specific Styles */
.story-content {
}

.reading-mode-focus .story-content {
	font-family: Georgia, "Times New Roman", serif;
	line-height: 1.8;
	font-size: 1.125rem;
}

.reading-mode-focus .story-content p {
	margin-bottom: 1.5rem;
}

.reading-mode-focus .story-content h1,
.reading-mode-focus .story-content h2,
.reading-mode-focus .story-content h3 {
	margin-top: 2rem;
	margin-bottom: 1rem;
}

/* Reading Progress Bar */
.reading-progress {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 3px;
	background: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--primary)) var(--progress, 0%), transparent var(--progress, 0%));
	z-index: 50;
}

/* Hide elements in focus mode */
.reading-mode-focus .hide-in-focus {
	opacity: 0.2;
}

.reading-mode-focus .hide-in-focus:hover {
	opacity: 1;
}

/* Enhanced typography for reading */
.reading-enhanced {
	font-feature-settings: "liga" 1, "kern" 1;
	text-rendering: optimizeLegibility;
}

/* Custom scrollbar for reading mode */
.reading-mode-focus::-webkit-scrollbar {
	width: 8px;
}

.reading-mode-focus::-webkit-scrollbar-track {
	background: hsl(var(--muted));
}

.reading-mode-focus::-webkit-scrollbar-thumb {
	background: hsl(var(--muted-foreground));
	border-radius: 4px;
}

.reading-mode-focus::-webkit-scrollbar-thumb:hover {
	background: hsl(var(--foreground));
}

.chapter-content p {
	margin: 1rem 0;
	padding: 0;
}

/* Legacy styles moved to combined selectors below */

/* Text formatting - moved to combined selectors below */

.chapter-content u {
	text-decoration: underline;
}

.chapter-content s,
.chapter-content strike,
.chapter-content del {
	text-decoration: line-through;
}

.chapter-content mark {
	background-color: hsl(var(--primary) / 0.1);
	padding: 0.1em 0.2em;
	border-radius: 0.2em;
}

.chapter-content small {
	font-size: 0.875em;
}

.chapter-content sub {
	vertical-align: sub;
	font-size: 0.75em;
}

.chapter-content sup {
	vertical-align: super;
	font-size: 0.75em;
}

/* Lists */
.chapter-content ul,
.chapter-content ol {
	margin: 1rem 0;
	padding-left: 2rem;
}

.chapter-content ul {
	list-style-type: disc;
}

.chapter-content ol {
	list-style-type: decimal;
}

.chapter-content li {
	margin: 0.5rem 0;
	line-height: 1.6;
}

.chapter-content li > ul,
.chapter-content li > ol {
	margin: 0.5rem 0;
}

/* Links */
.chapter-content a {
	color: hsl(var(--primary));
	text-decoration: underline;
	transition: color 0.2s ease;
}

.chapter-content a:hover {
	color: hsl(var(--primary) / 0.8);
}

/* Quotes */
.chapter-content blockquote {
	margin: 1.5rem 0;
	padding: 1rem 1.5rem;
	border-left: 4px solid hsl(var(--primary));
	background-color: hsl(var(--muted) / 0.5);
	font-style: italic;
	border-radius: 0 0.5rem 0.5rem 0;
}

.chapter-content blockquote p {
	margin: 0;
}

/* Code */
.chapter-content code {
	background-color: hsl(var(--muted));
	padding: 0.2em 0.4em;
	border-radius: 0.3em;
	font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
	font-size: 0.9em;
}

.chapter-content pre {
	background-color: hsl(var(--muted));
	padding: 1rem;
	border-radius: 0.5rem;
	overflow-x: auto;
	margin: 1rem 0;
}

.chapter-content pre code {
	background: none;
	padding: 0;
	border-radius: 0;
}

/* Horizontal rules */
.chapter-content hr {
	margin: 2rem 0;
	border: none;
	height: 1px;
	background-color: hsl(var(--border));
}

/* Tables */
.chapter-content table {
	width: 100%;
	border-collapse: collapse;
	margin: 1rem 0;
}

.chapter-content th,
.chapter-content td {
	padding: 0.5rem 0.75rem;
	text-align: left;
	border-bottom: 1px solid hsl(var(--border));
}

.chapter-content th {
	font-weight: bold;
	background-color: hsl(var(--muted) / 0.5);
}

/* Images */
.chapter-content img {
	max-width: 100%;
	height: auto;
	border-radius: 0.5rem;
	margin: 1rem 0;
}

/* Keyboard keys */
.chapter-content kbd {
	background-color: hsl(var(--muted));
	border: 1px solid hsl(var(--border));
	border-radius: 0.25rem;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
	padding: 0.1em 0.4em;
	font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
	font-size: 0.9em;
}

/* Abbreviations */
.chapter-content abbr {
	text-decoration: underline;
	text-decoration-style: dotted;
	cursor: help;
}

/* Editor styles - Apply same styling to prose class used in editor */
.prose h1,
.chapter-content h1 {
	font-size: 2.5rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h2,
.chapter-content h2 {
	font-size: 2rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h3,
.chapter-content h3 {
	font-size: 1.75rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h4,
.chapter-content h4 {
	font-size: 1.5rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h5,
.chapter-content h5 {
	font-size: 1.25rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h6,
.chapter-content h6 {
	font-size: 1rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

/* Editor text formatting */
.prose p,
.chapter-content p {
	margin: 1rem 0;
	line-height: 1.7;
	color: hsl(var(--foreground));
}

.prose strong,
.prose b,
.chapter-content strong,
.chapter-content b {
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose em,
.prose i,
.chapter-content em,
.chapter-content i {
	font-style: italic;
	color: hsl(var(--foreground));
}

.prose u,
.chapter-content u {
	text-decoration: underline;
}

.prose blockquote,
.chapter-content blockquote {
	margin: 1.5rem 0;
	padding: 1rem 1.5rem;
	border-left: 4px solid hsl(var(--primary));
	background-color: hsl(var(--muted) / 0.5);
	font-style: italic;
	border-radius: 0 0.5rem 0.5rem 0;
	color: hsl(var(--foreground));
}

.prose ul,
.prose ol,
.chapter-content ul,
.chapter-content ol {
	margin: 1rem 0;
	padding-left: 2rem;
}

.prose li,
.chapter-content li {
	margin: 0.5rem 0;
	line-height: 1.6;
	color: hsl(var(--foreground));
}
