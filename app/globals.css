@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

@layer base {
	:root {
		--background: 0 0% 100%;
		--foreground: 0 0% 3.9%;
		--card: 0 0% 100%;
		--card-foreground: 0 0% 3.9%;
		--popover: 0 0% 100%;
		--popover-foreground: 0 0% 3.9%;
		--primary: 350 91% 35%;
		--primary-foreground: 0 0% 98%;
		--secondary: 0 0% 96.1%;
		--secondary-foreground: 0 0% 9%;
		--muted: 0 0% 96.1%;
		--muted-foreground: 0 0% 45.1%;
		--accent: 0 0% 96.1%;
		--accent-foreground: 0 0% 9%;
		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 0 0% 98%;
		--border: 0 0% 89.8%;
		--input: 0 0% 89.8%;
		--ring: 350 91% 35%;
		--chart-1: 12 76% 61%;
		--chart-2: 173 58% 39%;
		--chart-3: 197 37% 24%;
		--chart-4: 43 74% 66%;
		--chart-5: 27 87% 67%;
		--radius: 0.5rem;
	}

	.dark {
		--background: 0 0% 3.9%;
		--foreground: 0 0% 98%;
		--card: 0 0% 3.9%;
		--card-foreground: 0 0% 98%;
		--popover: 0 0% 3.9%;
		--popover-foreground: 0 0% 98%;
		--primary: 350 91% 35%;
		--primary-foreground: 0 0% 98%;
		--secondary: 0 0% 14.9%;
		--secondary-foreground: 0 0% 98%;
		--muted: 0 0% 14.9%;
		--muted-foreground: 0 0% 63.9%;
		--accent: 0 0% 14.9%;
		--accent-foreground: 0 0% 98%;
		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 0 0% 98%;
		--border: 0 0% 14.9%;
		--input: 0 0% 14.9%;
		--ring: 350 91% 35%;
		--chart-1: 220 70% 50%;
		--chart-2: 160 60% 45%;
		--chart-3: 30 80% 55%;
		--chart-4: 280 65% 60%;
		--chart-5: 340 75% 55%;
	}
}

@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
	}
}

/* Reading Mode Styles */
.reading-mode-focus {
	/* Focus mode: Hide distractions and improve readability */
}

.reading-mode-focus .reading-content {
	max-width: 700px;
	margin: 0 auto;
	line-height: 1.8;
	font-size: 1.1rem;
}

.reading-mode-focus .reading-sidebar,
.reading-mode-focus .reading-navigation,
.reading-mode-focus .reading-comments {
	opacity: 0.3;
}

.reading-mode-focus .reading-sidebar:hover,
.reading-mode-focus .reading-navigation:hover,
.reading-mode-focus .reading-comments:hover {
	opacity: 1;
}

.reading-mode-sepia {
	/* Sepia mode: Warm colors for reduced eye strain */
	--background: 40 15% 94%;
	--foreground: 40 5% 15%;
	--card: 40 20% 97%;
	--card-foreground: 40 5% 15%;
	--muted: 40 10% 88%;
	--muted-foreground: 40 5% 40%;
	--border: 40 8% 85%;
}

.reading-mode-sepia.dark {
	--background: 40 8% 12%;
	--foreground: 40 15% 88%;
	--card: 40 8% 15%;
	--card-foreground: 40 15% 88%;
	--muted: 40 5% 20%;
	--muted-foreground: 40 10% 65%;
	--border: 40 5% 25%;
}

/* Story Reading Specific Styles */
.story-content {
}

.reading-mode-focus .story-content {
	font-family: Georgia, "Times New Roman", serif;
	line-height: 1.8;
	font-size: 1.125rem;
}

.reading-mode-focus .story-content p {
	margin-bottom: 1.5rem;
}

.reading-mode-focus .story-content h1,
.reading-mode-focus .story-content h2,
.reading-mode-focus .story-content h3 {
	margin-top: 2rem;
	margin-bottom: 1rem;
}

/* Reading Progress Bar */
.reading-progress {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 3px;
	background: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--primary)) var(--progress, 0%), transparent var(--progress, 0%));
	z-index: 50;
}

/* Hide elements in focus mode */
.reading-mode-focus .hide-in-focus {
	opacity: 0.2;
}

.reading-mode-focus .hide-in-focus:hover {
	opacity: 1;
}

/* Enhanced typography for reading */
.reading-enhanced {
	font-feature-settings: "liga" 1, "kern" 1;
	text-rendering: optimizeLegibility;
}

/* Custom scrollbar for reading mode */
.reading-mode-focus::-webkit-scrollbar {
	width: 8px;
}

.reading-mode-focus::-webkit-scrollbar-track {
	background: hsl(var(--muted));
}

.reading-mode-focus::-webkit-scrollbar-thumb {
	background: hsl(var(--muted-foreground));
	border-radius: 4px;
}

.reading-mode-focus::-webkit-scrollbar-thumb:hover {
	background: hsl(var(--foreground));
}

.chapter-content p {
	margin: 1rem 0;
	padding: 0;
}

/* Legacy styles moved to combined selectors below */

/* Text formatting - moved to combined selectors below */

.chapter-content u {
	text-decoration: underline;
}

.chapter-content s,
.chapter-content strike,
.chapter-content del {
	text-decoration: line-through;
}

.chapter-content mark {
	background-color: hsl(var(--primary) / 0.1);
	padding: 0.1em 0.2em;
	border-radius: 0.2em;
}

.chapter-content small {
	font-size: 0.875em;
}

.chapter-content sub {
	vertical-align: sub;
	font-size: 0.75em;
}

.chapter-content sup {
	vertical-align: super;
	font-size: 0.75em;
}

/* Lists */
.chapter-content ul,
.chapter-content ol {
	margin: 1rem 0;
	padding-left: 2rem;
}

.chapter-content ul {
	list-style-type: disc;
}

.chapter-content ol {
	list-style-type: decimal;
}

.chapter-content li {
	margin: 0.5rem 0;
	line-height: 1.6;
}

.chapter-content li > ul,
.chapter-content li > ol {
	margin: 0.5rem 0;
}

/* Links */
.chapter-content a {
	color: hsl(var(--primary));
	text-decoration: underline;
	transition: color 0.2s ease;
}

.chapter-content a:hover {
	color: hsl(var(--primary) / 0.8);
}

/* Quotes */
.chapter-content blockquote {
	margin: 1.5rem 0;
	padding: 1rem 1.5rem;
	border-left: 4px solid hsl(var(--primary));
	background-color: hsl(var(--muted) / 0.5);
	font-style: italic;
	border-radius: 0 0.5rem 0.5rem 0;
}

.chapter-content blockquote p {
	margin: 0;
}

/* Code */
.chapter-content code {
	background-color: hsl(var(--muted));
	padding: 0.2em 0.4em;
	border-radius: 0.3em;
	font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
	font-size: 0.9em;
}

.chapter-content pre {
	background-color: hsl(var(--muted));
	padding: 1rem;
	border-radius: 0.5rem;
	overflow-x: auto;
	margin: 1rem 0;
}

.chapter-content pre code {
	background: none;
	padding: 0;
	border-radius: 0;
}

/* Horizontal rules */
.chapter-content hr {
	margin: 2rem 0;
	border: none;
	height: 1px;
	background-color: hsl(var(--border));
}

/* Tables */
.chapter-content table {
	width: 100%;
	border-collapse: collapse;
	margin: 1rem 0;
}

.chapter-content th,
.chapter-content td {
	padding: 0.5rem 0.75rem;
	text-align: left;
	border-bottom: 1px solid hsl(var(--border));
}

.chapter-content th {
	font-weight: bold;
	background-color: hsl(var(--muted) / 0.5);
}

/* Images */
.chapter-content img {
	max-width: 100%;
	height: auto;
	border-radius: 0.5rem;
	margin: 1rem 0;
}

/* Keyboard keys */
.chapter-content kbd {
	background-color: hsl(var(--muted));
	border: 1px solid hsl(var(--border));
	border-radius: 0.25rem;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
	padding: 0.1em 0.4em;
	font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
	font-size: 0.9em;
}

/* Abbreviations */
.chapter-content abbr {
	text-decoration: underline;
	text-decoration-style: dotted;
	cursor: help;
}

/* Editor styles - Apply same styling to prose class used in editor */
.prose h1,
.chapter-content h1 {
	font-size: 2.5rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h2,
.chapter-content h2 {
	font-size: 2rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h3,
.chapter-content h3 {
	font-size: 1.75rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h4,
.chapter-content h4 {
	font-size: 1.5rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h5,
.chapter-content h5 {
	font-size: 1.25rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose h6,
.chapter-content h6 {
	font-size: 1rem;
	margin: 1.5rem 0 1rem 0;
	font-weight: bold;
	color: hsl(var(--foreground));
}

/* Editor text formatting */
.prose p,
.chapter-content p {
	margin: 1rem 0;
	line-height: 1.7;
	color: hsl(var(--foreground));
}

.prose strong,
.prose b,
.chapter-content strong,
.chapter-content b {
	font-weight: bold;
	color: hsl(var(--foreground));
}

.prose em,
.prose i,
.chapter-content em,
.chapter-content i {
	font-style: italic;
	color: hsl(var(--foreground));
}

.prose u,
.chapter-content u {
	text-decoration: underline;
}

.prose blockquote,
.chapter-content blockquote {
	margin: 1.5rem 0;
	padding: 1rem 1.5rem;
	border-left: 4px solid hsl(var(--primary));
	background-color: hsl(var(--muted) / 0.5);
	font-style: italic;
	border-radius: 0 0.5rem 0.5rem 0;
	color: hsl(var(--foreground));
}

.prose ul,
.prose ol,
.chapter-content ul,
.chapter-content ol {
	margin: 1rem 0;
	padding-left: 2rem;
}

.prose li,
.chapter-content li {
	margin: 0.5rem 0;
	line-height: 1.6;
	color: hsl(var(--foreground));
}

/* Razorpay button styling */
span.razorpay-payment-button a {
	background-color: #000 !important;
	color: white !important;
	border-radius: 6px !important;
	padding: 11px 15px !important;
	font-size: 14px !important;
	font-weight: 600 !important;
	min-height: 40px !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	transition: all 0.2s ease !important;
	text-decoration: none !important;
	width: 100% !important;
}

span.razorpay-payment-button a:hover {
	background-color: #000 !important;
	color: white !important;
	transform: translateY(-1px) !important;
}

span.razorpay-payment-button {
	width: 100%;
}

.widget-container {
	display: flex;
	flex-direction: column;
	gap: 12px;
	width: 100%;
}

a.gumroad-button {
	background-color: #000 !important;
	color: white !important;
	text-decoration: none !important;
	padding: 11px 15px;
	border-radius: 6px;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 14px;
	font-weight: 600;
	transition: all 0.2s ease;
	border: none;
	cursor: pointer;
	min-height: 40px;
	gap: 8px;
	width: 100%;
}

a.gumroad-button:hover {
	background-color: #000 !important;
	transform: translateY(-1px);
}

a.gumroad-button .logo-full {
	width: 80px;
	height: 16px;
	background-color: currentColor;
	mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='157' height='22' fill='none'%3E%3Cpath fill='%23000' d='M93.293.778c-3.243 0-6.413 2.805-6.777 6.858V1.112h-4.657v19.671h4.714v-9.521c0-2.667 1.979-6.43 6.72-6.43zm49.485 16.856V4.157h2.731c3.641 0 6.599 2.174 6.599 6.63s-2.958 6.847-6.599 6.847zm-4.665 3.152h7.965c4.892 0 10.922-3.043 10.922-9.999 0-6.847-6.03-9.673-10.922-9.673h-7.965zm-17.889-9.78c0-3.587 1.934-6.521 5.12-6.521 3.072 0 4.779 2.934 4.779 6.52 0 3.587-1.707 6.522-4.779 6.522-3.186 0-5.12-2.935-5.12-6.521m-4.779.217c0 5.869 3.186 9.999 8.192 9.999 3.641 0 5.803-2.282 6.941-5.978v5.543h4.664V1.116h-4.664v5.216C129.554 2.855 127.392.79 123.979.79c-5.12 0-8.534 4.456-8.534 10.433M9.216 21.222C3.413 21.222 0 16.766 0 11.223 0 5.463 3.755.79 10.923.79c7.395 0 9.898 4.782 10.012 7.499h-5.347c-.114-1.522-1.48-3.804-4.78-3.804-3.526 0-5.802 2.934-5.802 6.52 0 3.587 2.276 6.522 5.803 6.522 3.186 0 4.551-2.391 5.12-4.782h-5.12v-1.957h10.743v10H16.84v-6.304c-.341 2.282-1.82 6.738-7.623 6.738Zm21.892-.002c-4.437 0-7.168-2.825-7.168-8.477V1.114h4.779v11.63c0 2.934 1.479 4.347 3.982 4.347 4.892 0 6.713-5.76 6.713-9.782V1.114h4.778v19.672h-4.664v-7.282c-.91 4.021-3.414 7.717-8.42 7.717ZM72.741.778c-4.077 0-6.649 3.762-7.488 7.24-.144-4.66-2.544-7.24-6.383-7.24-3.318 0-6.396 2.826-7.195 7.297V1.113h-4.658v19.672h4.718v-7.052c0-1.749.763-8.924 5.512-8.924 3.077 0 3.398 2.651 3.398 6.275v9.701h4.716v-7.052c0-1.749.794-8.924 5.544-8.924 3.074 0 3.392 2.651 3.392 6.275v9.701h4.722V9.15c.022-5.582-2.042-8.37-6.278-8.37Zm30.674 0C97.306.778 93.168 5.353 93.168 11c0 6.221 3.936 10.22 10.247 10.22 6.108 0 10.32-4.574 10.32-10.22 0-6.222-4.013-10.222-10.32-10.222m0 16.96c-3.556 0-5.86-2.875-5.86-6.738s2.312-6.74 5.86-6.74c3.547 0 5.766 2.876 5.766 6.74 0 3.863-2.221 6.739-5.766 6.739Z'/%3E%3C/svg%3E");
	mask-repeat: no-repeat;
	mask-position: center;
	mask-size: contain;
	flex-shrink: 0;
}

/* Responsive adjustments */
@media (max-width: 640px) {
	.widget-container {
		flex-direction: column;
		align-items: stretch;
	}

	a.gumroad-button,
	span.razorpay-payment-button a {
		justify-content: center !important;
		width: 100% !important;
	}
}
